<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>HumusFertil ‚Äî Jardinagem Natural</title>
  <meta name="description" content="Apresenta√ß√£o da marca HumusFertil. Produtos 100% naturais para maior longevidade das plantas. Desde 2002.">
  <meta name="theme-color" content="#1f5d3a">

  <!-- Canonical + Social -->
  <link rel="canonical" href="https://www.humusfertil.com.br/">
  <meta property="og:type" content="website">
  <meta property="og:title" content="HumusFertil ‚Äî Jardinagem Natural">
  <meta property="og:description" content="Produtos 100% naturais para maior longevidade das plantas. Desde 2002.">
  <meta property="og:image" content="https://www.humusfertil.com.br/assets/catalogo-capa.jpg">
  <meta property="og:url" content="https://www.humusfertil.com.br/">
  <meta name="twitter:card" content="summary_large_image">

  <!-- Fonts & Favicon -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="icon" type="image/png" href="assets/logo-humusfertil.png">

  <!-- Schema.org (Organization) -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"Organization",
    "name":"HumusFertil",
    "url":"https://www.humusfertil.com.br/",
    "logo":"https://www.humusfertil.com.br/assets/logo-humusfertil.png",
    "contactPoint": [{
      "@type":"ContactPoint",
      "contactType":"customer service",
      "telephone":"+55-45-3277-2626",
      "areaServed":"BR"
    }]
  }
  </script>

  <style>
    :root{
      --green:#1f5d3a; --green-2:#17452b; --beige:#f3f5f0; --black:#1f1f1f; --muted:#6b7280;
      --radius:16px; --shadow:0 10px 25px rgba(0,0,0,.08); --shadow-sm:0 6px 18px rgba(0,0,0,.06);
      --container-max:1140px;
      --space:clamp(12px, 2vw, 20px);
      --gap:clamp(12px, 2vw, 18px);
      --card-min: 260px;
      --thumb-prod: clamp(180px, 28vw, 260px);
      --thumb-fert: clamp(140px, 22vw, 170px);
      --hero-logo: clamp(72px, 12vw, 140px);
    }
    *{box-sizing:border-box}
    html,body{margin:0; padding:0; font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial; color:var(--black); background:var(--beige);}
    a{color:inherit; text-decoration:none}
    img,video{max-width:100%; display:block}

    .container{max-width:var(--container-max); margin:0 auto; padding:0 var(--space)}
    header{position:sticky; top:0; z-index:50; background:#fff; box-shadow:var(--shadow-sm)}
    .nav{display:flex; align-items:center; justify-content:space-between; height:64px}
    .brand{display:flex; align-items:center; gap:10px}
    .brand img{height:var(--hero-logo); width:auto}
    .menu{display:flex; gap:20px; align-items:center}
    .menu a{opacity:.95}
    .btn{display:inline-flex; align-items:center; gap:8px; padding:10px 16px; border-radius:12px; background:var(--green); color:#fff; font-weight:600; box-shadow:var(--shadow); transition:.15s transform}
    .btn.alt{background:#fff; color:var(--green); border:2px solid var(--green)}
    .btn:hover{filter:brightness(0.97); transform:translateY(-1px)}
    .hamb{display:none; border:none; background:transparent; font-size:26px; line-height:1; padding:6px}

    .hero{background:
      radial-gradient(1200px 400px at 80% -20%, rgba(26,127,55,.15), transparent),
      radial-gradient(900px 300px at -10% -10%, rgba(26,127,55,.08), transparent), #f8faf5;
      padding: clamp(32px, 6vw, 72px) 0 32px; border-bottom:1px solid #e6eae2;}
    .hero-inner{display:grid; grid-template-columns: clamp(90px, 16vw, 160px) 1fr; gap: clamp(16px, 3vw, 30px); align-items:center}
    .hero-logo{height:var(--hero-logo); width:auto}
    .kicker{color:var(--green); font-weight:700; letter-spacing:.4px; text-transform:uppercase; font-size:12px}
    h1{font-size:clamp(26px, 4.6vw, 44px); line-height:1.15; margin:10px 0 12px}
    .lead{color:var(--muted); font-size:clamp(15px, 2.2vw, 18px); max-width:60ch}
    .cta{display:flex; gap:12px; margin-top:18px; flex-wrap:wrap}

    section{padding: clamp(36px, 6vw, 60px) 0}
    .section-title{display:flex; align-items:end; justify-content:space-between; gap:16px; margin-bottom:18px}
    .section-title h2{margin:0; font-size:clamp(20px, 3.2vw, 30px)}
    .subtitle{color:var(--muted)}

    /* Grades base de cards (auto-fit) */
    .cards{display:grid; gap:var(--gap); grid-template-columns: repeat(auto-fit, minmax(var(--card-min), 1fr));}
    .card{background:#fff; border-radius:var(--radius); box-shadow:var(--shadow-sm); overflow:hidden; display:flex; flex-direction:column}
    .card .body{padding:14px; display:flex; flex-direction:column; gap:6px}
    .card .body h3{margin:4px 0 0; line-height:1.2; min-height:2.4em}
    .badge{display:inline-block; font-size:12px; background:#eef6ef; color:var(--green); padding:6px 10px; border-radius:999px; font-weight:600}
    .tag{font-size:12px; background:#eef6ef; color:#1f5d3a; padding:3px 7px; border-radius:999px}
    .muted{color:#6b7280; font-size:13px}

    /* Thumbs padronizadas */
    .thumb{display:flex; align-items:center; justify-content:center; background:linear-gradient(135deg,#eaf3eb,#f6f7f4); border-bottom:1px solid #eef2ea; padding:10px}
    .thumb img{max-height:100%; max-width:100%; object-fit:contain}
    #produtos .thumb{height: var(--thumb-prod);}
    #fertilizantes .thumb{height: var(--thumb-fert);}

    /* V√≠deos responsivos */
    .video-wrap{position:relative; width:100%; aspect-ratio:16/9; background:#000; overflow:hidden}
    .video-wrap video{position:absolute; inset:0; width:100%; height:100%; object-fit:cover}

    /* Filtros Fertilizantes */
    .filters{display:flex; gap:10px; flex-wrap:wrap; margin-bottom:14px}
    .chips{display:flex; gap:8px; overflow:auto; padding-bottom:6px; -webkit-overflow-scrolling:touch}
    .chip{border:1px solid #dfe5db; padding:8px 12px; border-radius:999px; cursor:pointer; user-select:none; white-space:nowrap}
    .chip.active{background:var(--green); color:#fff; border-color:var(--green)}
    .select{padding:8px 10px; border-radius:12px; border:1px solid #dfe5db}

    /* Efeitos de apari√ß√£o (scroll) */
    .reveal{opacity:0; transform: translateY(18px); transition: opacity .5s ease, transform .5s ease;}
    .reveal.show{opacity:1; transform:none}
    .sentinel{height:1px;}

    /* Mobile nav */
    @media (max-width: 820px){
      .hamb{display:block}
      .menu{display:none; position:absolute; top:64px; left:0; right:0; background:#fff; box-shadow:var(--shadow-sm); padding:12px var(--space); flex-direction:column; gap:12px}
      .menu.open{display:flex}
      .brand img{height: clamp(56px, 10vw, 90px);}
      .hero-inner{grid-template-columns: 1fr;}
    }
  </style>
</head>
<body>
  <header>
    <div class="container nav" role="navigation" aria-label="Principal">
      <div class="brand">
        <img class="logo" src="assets/logo-humusfertil.png" alt="HumusFertil">
      </div>
      <nav class="menu" id="menu">
        <a href="#sobre">Sobre</a>
        <a href="#produtos">Produtos</a>
        <a href="#fertilizantes">Fertilizantes</a>
        <a href="#catalogo">Cat√°logo</a>
        <a href="#representantes">Representantes</a>
        <a href="#trabalhe">Trabalhe Conosco</a>
      </nav>
      <button class="hamb" id="hamb" aria-label="Abrir menu">‚ò∞</button>
    </div>
  </header>

  <section class="hero">
    <div class="container hero-inner">
      <img class="hero-logo" src="assets/logo-humusfertil.png" alt="HumusFertil">
      <div>
        <span class="kicker">Jardinagem Natural</span>
        <h1>Promovendo maior longevidade √†s plantas ‚Äî <span style="color:var(--green)">produtos 100% naturais</span></h1>
        <p class="lead">Solu√ß√µes para jardinagem com qualidade constante desde 2002. Simplicidade, desempenho no cultivo e sustentabilidade.</p>
        <div class="cta">
          <a class="btn" href="#representantes">Solicitar visita do representante</a>
          <a class="btn alt" href="https://wa.me/5545999099998?text=Ol%C3%A1%20HumusFertil!%20Gostaria%20de%20falar%20com%20um%20representante." target="_blank" rel="noopener">Falar no WhatsApp</a>
        </div>
      </div>
    </div>
  </section>

  <!-- SOBRE -->
  <section id="sobre" style="background:#fff">
    <div class="container">
      <div class="section-title">
        <h2>A HumusFertil</h2>
        <p class="subtitle">Qualidade, sustentabilidade e foco no resultado desde 2002.</p>
      </div>

      <p> A empresa atua no mercado de produtos para jardinagem desde 2002, especializando-se continuamente com novos produtos e servi√ßos, sempre buscando melhoria e qualidade para atender os clientes. Com o aumento da conscientiza√ß√£o ambiental e o crescimento do mercado de jardinagem e paisagismo, surgiu a necessidade de oferecer produtos ecologicamente corretos, com maior qualidade de germina√ß√£o, crescimento e manuten√ß√£o das plantas.</p>
      <p>Al√©m de uma linha diversificada de fertilizantes para diversas esp√©cies, esterco de aves, terra especial e terra vegetal, compostos org√¢nicos e substratos para flores, hortali√ßas e outras plantas, a HumusFertil tamb√©m trabalha com vasos, floreiras, regadores, suportes, pratos, fibra de coco, cachep√¥s e outros itens de jardinagem.</p>

      <!-- V√≠deos: s√≥ aparecem ao rolar -->
      <div class="cards" style="margin-top: var(--gap); --card-min: 320px;">
        <article class="card reveal">
          <div class="video-wrap">
            <video preload="metadata" controls>
              <source src="assets/vegetal.mp4" type="video/mp4">
              Seu navegador n√£o suporta v√≠deo HTML5.
            </video>
          </div>
          <div class="body">
            <h3>Produ√ß√£o ‚Äî Terra Vegetal</h3>
            <p class="subtitle">Processo de preparo e sele√ß√£o para uma terra homog√™nea.</p>
          </div>
        </article>

        <article class="card reveal">
          <div class="video-wrap">
            <video preload="metadata" controls>
              <source src="assets/producao.mp4" type="video/mp4">
              Seu navegador n√£o suporta v√≠deo HTML5.
            </video>
          </div>
          <div class="body">
            <h3>Vis√£o da Linha de Produ√ß√£o</h3>
            <p class="subtitle">Um pouco do dia a dia na ind√∫stria HumusFertil.</p>
          </div>
        </article>
      </div>
    </div>
  </section>

  <!-- PRODUTOS (Terras) com revela√ß√£o em lotes de 3 -->
  <section id="produtos">
    <div class="container">
      <div class="section-title">
        <h2>Produtos</h2>
        <p class="subtitle">Linha principal (Terras org√¢nicas e especiais)</p>
      </div>
      <div id="gridTerra" class="cards"></div>
      <div id="terraStatus" class="subtitle" style="margin-top:8px"></div>
      <div id="terraSentinel" class="sentinel"></div>
    </div>
  </section>

  <!-- FERTILIZANTES com revela√ß√£o em lotes de 3 -->
  <section id="fertilizantes" style="background:#fff">
    <div class="container">
      <div class="section-title">
        <h2>Fertilizantes</h2>
        <p class="subtitle">Filtre por tipo de embalagem e linha.</p>
      </div>

      <div class="filters">
        <div class="chips" id="chipsTipo">
          <span class="chip active" data-tipo="todos">Todos</span>
          <span class="chip" data-tipo="concentrado">Concentrado 100ml</span>
          <span class="chip" data-tipo="pronto-uso">Pronto-uso 500ml</span>
          <span class="chip" data-tipo="150gr">S√≥lido 150g</span>
          <span class="chip" data-tipo="500gr">S√≥lido 500g</span>
          <span class="chip" data-tipo="1kg">S√≥lido 1kg</span>
        </div>
        <select id="selectLinha" class="select" aria-label="Selecionar linha">
          <option value="todas">Todas as linhas</option>
        </select>
        <input id="busca" class="select" style="flex:1; min-width: 180px" placeholder="Buscar por nome (ex.: orqu√≠deas, 10-10-10)">
      </div>

      <div id="gridFert" class="cards" style="--card-min: 240px;"></div>
      <p class="muted" id="statusFert" style="margin-top:8px"></p>
      <div id="fertSentinel" class="sentinel"></div>
    </div>
  </section>

  <!-- CAT√ÅLOGO -->
  <section id="catalogo">
    <div class="container">
      <div class="section-title"><h2>Cat√°logo 2025</h2><p class="subtitle">Baixe o cat√°logo oficial.</p></div>
      <div class="cards" style="--card-min: 320px;">
        <div class="card reveal">
          <div class="thumb" style="height:auto; border-bottom:none; padding:0; background:none;">
            <img src="assets/catalogo-capa.jpg" alt="Capa do Cat√°logo" loading="lazy" decoding="async">
          </div>
        </div>
        <div class="card reveal">
          <div class="body">
            <p>Assim que recebermos a vers√£o final, o bot√£o abaixo ser√° ativado.</p>
            <div class="cta">
              <a class="btn" href="catalogo-2025.pdf" download title="Baixar Cat√°logo 2025">üì• Baixar PDF</a>
              <a class="btn alt" href="#representantes">Falar com atendimento</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- REPRESENTANTES -->
  <section id="representantes">
    <div class="container">
      <div class="section-title"><h2>Representantes por regi√£o</h2></div>
      <div class="cards" style="--card-min: 260px;">
        <div class="card reveal"><div class="body"><strong>Ernane</strong><p class="subtitle">Curitiba e regi√£o / Litoral de Santa Catarina<br>Contato: (43) 9930-0601</p><a class="btn" target="_blank" rel="noopener" href="https://wa.me/554399300601?text=Ol%C3%A1%20Ernane!%20Gostaria%20de%20falar%20sobre%20os%20produtos%20HumusFertil.">Fale com o representante</a></div></div>
        <div class="card reveal"><div class="body"><strong>√Åquila Micael</strong><p class="subtitle">Regi√£o Oeste do PR<br>Contato: (45) 9909-9998</p><a class="btn" target="_blank" rel="noopener" href="https://wa.me/554599099998?text=Ol%C3%A1%20%C3%81quila!%20Gostaria%20de%20falar%20sobre%20os%20produtos%20HumusFertil.">Fale com o representante</a></div></div>
        <div class="card reveal"><div class="body"><strong>Itamar</strong><p class="subtitle">Regi√£o Sudoeste do PR<br>Contato: (45) 9921-3262</p><a class="btn" target="_blank" rel="noopener" href="https://wa.me/554599213262?text=Ol%C3%A1%20Itamar!%20Gostaria%20de%20falar%20sobre%20os%20produtos%20HumusFertil.">Fale com o representante</a></div></div>
        <div class="card reveal"><div class="body"><strong>Paulo Fonseca</strong><p class="subtitle">Regi√£o Norte do PR<br>Contato: (45) 9840-9000</p><a class="btn" target="_blank" rel="noopener" href="https://wa.me/554598409000?text=Ol%C3%A1%20Paulo!%20Gostaria%20de%20falar%20sobre%20os%20produtos%20HumusFertil.">Fale com o representante</a></div></div>
        <div class="card reveal"><div class="body"><strong>Jo√£o Fonseca</strong><p class="subtitle">Regi√£o Central do PR<br>Contato: (45) 9914-9477</p><a class="btn" target="_blank" rel="noopener" href="https://wa.me/554599149477?text=Ol%C3%A1%20Jo%C3%A3o!%20Gostaria%20de%20falar%20sobre%20os%20produtos%20HumusFertil.">Fale com o representante</a></div></div>
        <div class="card reveal"><div class="body"><strong>Rodrigo</strong><p class="subtitle">Maring√°, Apucarana e regi√£o<br>Contato: (44) 9920-8616</p><a class="btn" target="_blank" rel="noopener" href="https://wa.me/554499208616?text=Ol%C3%A1%20Rodrigo!%20Gostaria%20de%20falar%20sobre%20os%20produtos%20HumusFertil.">Fale com o representante</a></div></div>
        <div class="card reveal"><div class="body"><strong>Fernando</strong><p class="subtitle">Londrina e regi√£o<br>Contato: (43) 9101-3215</p><a class="btn" target="_blank" rel="noopener" href="https://wa.me/554391013215?text=Ol%C3%A1%20Fernando!%20Gostaria%20de%20falar%20sobre%20os%20produtos%20HumusFertil.">Fale com o representante</a></div></div>
      </div>
    </div>
  </section>

  <!-- TRABALHE CONOSCO -->
  <section id="trabalhe" style="background:#fff">
    <div class="container">
      <div class="section-title">
        <h2>Trabalhe Conosco</h2>
        <p class="subtitle">Preencha seus dados e anexe seu curr√≠culo em PDF. Enviaremos ao RH.</p>
      </div>

      <form id="cvForm" onsubmit="enviarCV(event)" enctype="multipart/form-data" style="display:grid; gap:12px">
        <input type="hidden" name="to_email" value="aquila_micael@hotmail.com">

        <div class="cards" style="--card-min: 320px;">
          <div class="card reveal">
            <div class="body">
              <label class="subtitle" for="cv_nome">Nome completo</label>
              <input id="cv_nome" name="nome" required placeholder="Seu nome" />
              <label class="subtitle" for="cv_email" style="margin-top:10px">E-mail</label>
              <input id="cv_email" name="email" type="email" required placeholder="voce@email.com" />
              <label class="subtitle" for="cv_tel" style="margin-top:10px">Telefone/WhatsApp</label>
              <input id="cv_tel" name="telefone" inputmode="tel" placeholder="(45) 9 9999-9999" />
            </div>
          </div>
          <div class="card reveal">
            <div class="body">
              <label class="subtitle" for="cv_cidade">Cidade/UF</label>
              <input id="cv_cidade" name="cidade" placeholder="Toledo/PR" />
              <label class="subtitle" for="cv_area" style="margin-top:10px">√Årea de interesse</label>
              <select id="cv_area" name="area" class="select" required>
                <option value="">Selecione</option>
                <option>Produ√ß√£o</option>
                <option>Log√≠stica</option>
                <option>Vendas</option>
                <option>Representa√ß√£o Comercial</option>
                <option>Marketing</option>
                <option>Administrativo</option>
                <option>Est√°gio</option>
                <option>Outros</option>
              </select>
              <label class="subtitle" for="cv_msg" style="margin-top:10px">Apresenta√ß√£o (opcional)</label>
              <textarea id="cv_msg" name="mensagem" placeholder="Conte brevemente sua experi√™ncia e objetivo." style="min-height:120px"></textarea>
              <label class="subtitle" for="cv_file" style="margin-top:10px">Curr√≠culo (PDF) ‚Äî m√°x. 5MB</label>
              <input id="cv_file" name="my_file" type="file" accept="application/pdf" required />
              <div class="subtitle" id="cv_status" role="status" aria-live="polite" style="margin-top:10px"></div>
              <div class="cta" style="margin-top:10px">
                <button id="cv_submit" class="btn" type="submit">Enviar curr√≠culo</button>
              </div>
            </div>
          </div>
        </div>
      </form>

    </div>
  </section>

  <footer>
    <div class="container">
      <div class="subtitle" style="padding:16px 0">¬© <span id="year"></span> HumusFertil ‚Äî Prot√≥tipo para revis√£o. Desenvolvido por √Åquila (estudo).</div>
    </div>
  </footer>

  <!-- EmailJS CDN -->
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>

<script>
  document.getElementById('year').textContent = new Date().getFullYear();

  /* Mobile menu + smooth scroll */
  const hamb = document.getElementById('hamb');
  const menu = document.getElementById('menu');
  hamb.addEventListener('click', ()=> menu.classList.toggle('open'));
  menu.querySelectorAll('a[href^="#"]').forEach(a=>{
    a.addEventListener('click', ()=> menu.classList.remove('open'));
  });
  document.querySelectorAll('a[href^="#"]').forEach(a=>{
    a.addEventListener('click', e=>{
      const id=a.getAttribute('href');
      if(id && id.length>1){ e.preventDefault(); document.querySelector(id)?.scrollIntoView({behavior:'smooth'}); }
    });
  });

  /* ===== SCROLL REVEAL (gen√©rico) ===== */
  const revealObserver = new IntersectionObserver((entries)=>{
    entries.forEach(entry=>{
      if(entry.isIntersecting){
        entry.target.classList.add('show');
        revealObserver.unobserve(entry.target);
      }
    });
  }, { threshold: 0.15 });

  document.querySelectorAll('.reveal').forEach(el=>revealObserver.observe(el));

  /* ===== PRODUTOS (Terras) ‚Äî dados + render em lotes de 3 ===== */
  const PRODUTOS_TERRA = [
    {nome:'SUBSTRATO', badge:'Substrato', img:'assets/substrato.jpg', desc:'Preparo ideal para germina√ß√£o de sementes; melhora desempenho e qualidade das culturas.'},
    {nome:'H√öMUS', badge:'Terra Org√¢nica', img:'assets/humus.jpg', desc:'100% natural, obtido da transforma√ß√£o do esterco bovino. Ideal para hortas e jardins.'},
    {nome:'TERRA VEGETAL', badge:'Terra', img:'assets/terra-vegetal.jpg', desc:'100% natural; usado para enchimento de vasos, canteiros e gramados.'},
    {nome:'ESTERCO DE AVES', badge:'Terra Org√¢nica', img:'assets/esterco-de-aves.jpg', desc:'Esterco curtido e estabilizado. Aumenta a produtividade do solo.'},
    {nome:'PREPARO PARA ORQU√çDEAS', badge:'Linha Especial', img:'assets/preparo-para-orquideas.png', desc:'Ret√©m √°gua na medida e mant√©m boa aera√ß√£o.'},
    {nome:'ROSA DO DESERTO', badge:'Linha Especial', img:'assets/rosa-do-deserto.jpg', desc:'Preparado especialmente para a esp√©cie.'},
    {nome:'JARDINS E HORTAS', badge:'Linha Multiuso', img:'assets/jardins-e-hortas.png', desc:'Mistura balanceada para preparo do solo.'},
    /* Novos */
    {nome:'TERRA PARA VASOS E FLOREIRAS', badge:'Terra Especial', img:'assets/terra-para-vasos.png', desc:'Pronta para plantio, com aera√ß√£o e reten√ß√£o de umidade equilibradas.'},
    {nome:'GRAMADOS', badge:'Terra Especial', img:'assets/gramados.png', desc:'Mistura para cobertura, nivelamento e enraizamento de gramados.'},
    {nome:'CACTOS E SUCULENTAS', badge:'Terra Especial', img:'assets/terra-cactos-suculenta.png', desc:'Alta drenagem e baixa reten√ß√£o de umidade para evitar encharcamento.'},
    {nome:'SAMAMBAIAS', badge:'Terra Especial', img:'assets/terra-samambaia.png', desc:'Textura leve e rica em mat√©ria org√¢nica para frondes vigorosas.'},
    {nome:'ORQU√çDEAS E BROM√âLIAS', badge:'Terra Especial', img:'assets/bromelia.png', desc:'Granulometria grossa e excelente aera√ß√£o para ra√≠zes a√©reas.'},
    {nome:'ZAMIOCULCA', badge:'Terra Especial', img:'assets/zamioculca.png', desc:'Mistura pronta com boa drenagem e estabilidade para ra√≠zes tuberosas.'}
  ];

  const gridTerra = document.getElementById('gridTerra');
  const terraStatus = document.getElementById('terraStatus');
  const terraSentinel = document.getElementById('terraSentinel');
  let terraIndex = 0;
  const TERRA_BATCH = 3;

  function createTerraCard(item){
    const card = document.createElement('article');
    card.className = 'card reveal';
    card.innerHTML = `
      <div class="thumb"><img loading="lazy" decoding="async" src="${item.img}" alt="${item.nome}"></div>
      <div class="body"><span class="badge">${item.badge}</span><h3>${item.nome}</h3><p class="subtitle">${item.desc}</p></div>
    `;
    revealObserver.observe(card);
    return card;
  }
  function addTerraBatch(){
    let added = 0;
    while(added < TERRA_BATCH && terraIndex < PRODUTOS_TERRA.length){
      gridTerra.appendChild(createTerraCard(PRODUTOS_TERRA[terraIndex++]));
      added++;
    }
    terraStatus.textContent = `${terraIndex} de ${PRODUTOS_TERRA.length} produtos`;
    if(terraIndex >= PRODUTOS_TERRA.length){
      terraInfinite.unobserve(terraSentinel);
    }
  }
  const terraInfinite = new IntersectionObserver((entries)=>{
    entries.forEach(e=>{ if(e.isIntersecting) addTerraBatch(); });
  }, { rootMargin: '200px 0px' });

  addTerraBatch();      // primeiros 3
  terraInfinite.observe(terraSentinel);

  /* ===== FERTILIZANTES ‚Äî dados + filtros + render em lotes de 3 ===== */
  const FERTILIZANTES = [
    {nome:'Orqu√≠deas', slug:'orquideas', categorias:['liquido','solido'], variantes:[{tipo:'concentrado', volume:'100ml'},{tipo:'pronto-uso', volume:'500ml'},{tipo:'solido', peso:'150gr'}]},
    {nome:'Samambaia', slug:'samambaia', categorias:['liquido','solido'], variantes:[{tipo:'concentrado', volume:'100ml'},{tipo:'pronto-uso', volume:'500ml'},{tipo:'solido', peso:'150gr'}]},
    {nome:'Flores', slug:'flores', categorias:['liquido'], variantes:[{tipo:'concentrado', volume:'100ml'},{tipo:'pronto-uso', volume:'500ml'}]},
    {nome:'Rosa do Deserto', slug:'rosa-do-deserto', categorias:['liquido','solido'], variantes:[{tipo:'concentrado', volume:'100ml'},{tipo:'pronto-uso', volume:'500ml'},{tipo:'solido', peso:'150gr'}]},
    {nome:'Cactos e Suculentas', slug:'cactos-e-suculentas', categorias:['liquido','solido'], variantes:[{tipo:'concentrado', volume:'100ml'},{tipo:'pronto-uso', volume:'500ml'},{tipo:'solido', peso:'150gr'}]},
    {nome:'Tempero Verde', slug:'tempero-verde', categorias:['liquido'], variantes:[{tipo:'concentrado', volume:'100ml'},{tipo:'pronto-uso', volume:'500ml'}]},
    {nome:'Cobre', slug:'cobre', categorias:['liquido'], variantes:[{tipo:'pronto-uso', volume:'500ml'}]},
    {nome:'Sulfato de cobre', slug:'sulfato-de-cobre', categorias:['solido'], variantes:[{tipo:'solido', peso:'150gr'}]},
    {nome:'Plantas', slug:'plantas', categorias:['solido'], variantes:[{tipo:'solido', peso:'150gr'}]},
    {nome:'Frut√≠feras', slug:'frutiferas', categorias:['solido'], variantes:[{tipo:'solido', peso:'150gr'}]},
    {nome:'Violeta', slug:'violeta', categorias:['solido'], variantes:[{tipo:'solido', peso:'150gr'}]},
    {nome:'Rosas', slug:'rosas', categorias:['solido'], variantes:[{tipo:'solido', peso:'150gr'}]},
    {nome:'10-10-10', slug:'10-10-10', categorias:['liquido','solido'], npk:'10-10-10', variantes:[{tipo:'concentrado', volume:'100ml'},{tipo:'solido', peso:'1kg'}]},
    {nome:'04-14-08', slug:'04-14-08', categorias:['liquido','solido'], npk:'04-14-08', variantes:[{tipo:'concentrado', volume:'100ml'},{tipo:'solido', peso:'1kg'}]},
    {nome:'Farinha de Osso', slug:'farinha-de-osso', categorias:['solido'], variantes:[{tipo:'solido', peso:'1kg'}]},
    {nome:'Torta de Mamona', slug:'torta-de-mamona', categorias:['solido'], variantes:[{tipo:'solido', peso:'1kg'}]},
    {nome:'Farinha de Osso + Torta de Mamona', slug:'farinha-de-osso-torta-de-mamona', categorias:['solido'], variantes:[{tipo:'solido', peso:'1kg'}]},
    {nome:'Calc√°rio de Concha', slug:'calcario-de-concha', categorias:['solido'], variantes:[{tipo:'solido', peso:'1kg'}]},
    {nome:'Ureia', slug:'ureia', categorias:['solido'], variantes:[{tipo:'solido', peso:'1kg'}]},
    {nome:'15-15-20', slug:'15-15-20', categorias:['solido'], npk:'15-15-20', variantes:[{tipo:'solido', peso:'500gr'}]},
    {nome:'20-05-20', slug:'20-05-20', categorias:['solido'], npk:'20-05-20', variantes:[{tipo:'solido', peso:'500gr'}]},
    {nome:'Salitre', slug:'salitre', categorias:['solido'], variantes:[{tipo:'solido', peso:'500gr'}]},
    {nome:'Raiz', slug:'raiz', categorias:['liquido'], variantes:[{tipo:'concentrado', volume:'100ml'}]},
    {nome:'Foliar', slug:'foliar', categorias:['liquido'], variantes:[{tipo:'concentrado', volume:'100ml'}]}
  ];
  const IMG_MAP = {
    'cactos-e-suculentas':'assets/cactos-e-suculentas.png',
    'orquideas':'assets/orquideas.png',
    'plantas':'assets/plantas.png',
    'rosa-do-deserto':'assets/rosa-do-deserto.png',
    'rosas':'assets/rosas.png',
    'salitre':'assets/salitre.png',
    'samambaia':'assets/samambaia.png',
    'violeta':'assets/violetas.png',
    '10-10-10':'assets/10-10-10.png',
    '04-14-08':'assets/04-14-08.png',
    '15-15-20':'assets/15-15-20.png',
    '20-05-20':'assets/20-05-20.png',
    'calcario-de-concha':'assets/calcario-de-conchas.png',
    'farinha-de-osso-torta-de-mamona':'assets/farinha-torta.png',
    'farinha-de-osso':'assets/Farinha-de-Ossos.png',
    'frutiferas':'assets/frutifera.png',
    'torta-de-mamona':'assets/torta-de-mamona.png',
    'ureia':'assets/ureia.png',
    /* opcionais */
    'flores':'assets/flores.png',
    'tempero-verde':'assets/tempero-verde.png',
    'cobre':'assets/cobre.png',
    'sulfato-de-cobre':'assets/sulfato-de-cobre.png',
    'raiz':'assets/raiz.png',
    'foliar':'assets/foliar.png'
  };
  const DESCRICOES_FERTILIZANTES = {
    "orquideas":"Fertilizante balanceado para orqu√≠deas, favorece ra√≠zes ativas e boa flora√ß√£o.",
    "samambaia":"Formula√ß√£o suave: doses moderadas mant√™m verde intenso sem queimar frondes.",
    "flores":"Adubo completo para flor√≠feras; suporte a bot√µes e manuten√ß√£o das flores.",
    "rosa-do-deserto":"Equil√≠brio para suculentas lenhosas; foco em ra√≠zes/flora√ß√£o com caudex firme.",
    "cactos-e-suculentas":"Baixo N e bom P/K para compacidade e ra√≠zes fortes; aduba√ß√µes dilu√≠das.",
    "tempero-verde":"Para ervas: aduba√ß√£o leve e regular; excesso de N pode afetar o sabor.",
    "frutiferas":"√änfase em K para frutifica√ß√£o/qualidade e toler√¢ncia a estresse h√≠drico.",
    "violeta":"Macro e micros para folhas vigorosas e flora√ß√£o cont√≠nua.",
    "rosas":"Nutri√ß√£o completa para roseiras: N, P e K equilibrados.",
    "plantas":"‚ÄòCoringa‚Äô para ornamentais: complementa N-P-K e micros.",
    "10-10-10":"NPK equilibrado para manuten√ß√£o geral.",
    "04-14-08":"F√≥sforo alto para enraizamento e suporte √† flora√ß√£o.",
    "15-15-20":"√änfase em K: qualidade e resist√™ncia a estresses.",
    "20-05-20":"Alto N para folhagem, K elevado para robustez; P moderado.",
    "farinha-de-osso":"Org√¢nico rico em P e Ca (libera√ß√£o lenta).",
    "torta-de-mamona":"Fonte org√¢nica de N de libera√ß√£o gradual.",
    "farinha-de-osso-torta-de-mamona":"Mistura N + P de libera√ß√£o lenta.",
    "calcario-de-concha":"Corretivo de solo (CaCO‚ÇÉ) que eleva pH e fornece c√°lcio.",
    "ureia":"Fonte concentrada de N (46-0-0); incorporar/irrigar ap√≥s aplicar.",
    "salitre":"Nitrato de pot√°ssio (13-0-46): K alto e N n√≠trico de r√°pida absor√ß√£o.",
    "cobre":"Micronutriente essencial; usar dilui√ß√µes corretas.",
    "sulfato-de-cobre":"Componente de fungicidas c√∫pricos; evitar fitotoxicidade.",
    "raiz":"Arranque para mudas/transplantes com P e micros.",
    "foliar":"Corre√ß√µes r√°pidas de micronutrientes via folhas."
  };
  const DEFAULT_DESC = "Fertilizante para uso em jardinagem. Utilize conforme o r√≥tulo e boas pr√°ticas de manejo.";

  const selectLinha = document.getElementById('selectLinha');
  const linhas = ['todas', ...FERTILIZANTES.map(p => p.nome).sort((a,b)=>a.localeCompare(b,'pt'))];
  linhas.forEach(l => { const opt=document.createElement('option'); opt.value=l.toLowerCase(); opt.textContent=l; selectLinha.appendChild(opt); });

  const gridFert = document.getElementById('gridFert');
  const statusFert = document.getElementById('statusFert');
  const fertSentinel = document.getElementById('fertSentinel');
  const chips = document.querySelectorAll('#chipsTipo .chip');
  const busca = document.getElementById('busca');
  let filtroTipo='todos', filtroLinha='todas', filtroTexto='';
  let fertIndex=0, currentFertList=[];
  const FERT_BATCH=3;

  chips.forEach(ch => ch.addEventListener('click', ()=>{
    chips.forEach(c=>c.classList.remove('active'));
    ch.classList.add('active');
    filtroTipo=ch.dataset.tipo;
    resetFert();
  }));
  selectLinha.addEventListener('change', ()=>{ filtroLinha=selectLinha.value; resetFert(); });
  busca.addEventListener('input', ()=>{ filtroTexto=busca.value.trim().toLowerCase(); resetFert(); });

  function matchesFilters(prod){
    if(filtroLinha!=='todas' && prod.nome.toLowerCase()!==filtroLinha) return false;
    if(filtroTexto){
      const hay=(prod.nome+' '+(prod.npk||'')+' '+prod.slug).toLowerCase();
      if(!hay.includes(filtroTexto)) return false;
    }
    if(filtroTipo==='todos') return true;
    if(['concentrado','pronto-uso'].includes(filtroTipo)) return prod.variantes.some(v=>v.tipo===filtroTipo);
    if(['150gr','500gr','1kg'].includes(filtroTipo)) return prod.variantes.some(v=>v.tipo==='solido'&&(v.peso||'').toLowerCase()===filtroTipo);
    return true;
  }
  function variantLabels(prod){
    return prod.variantes.map(v=>{
      if(v.tipo==='concentrado') return 'Concentrado '+v.volume;
      if(v.tipo==='pronto-uso') return 'Pronto-uso '+v.volume;
      if(v.tipo==='solido') return 'S√≥lido '+(v.peso||'');
      return '';
    });
  }
  function createFertCard(prod){
    const card=document.createElement('article'); card.className='card reveal';
    const thumb=document.createElement('div'); thumb.className='thumb';
    const im=document.createElement('img'); im.alt=prod.nome; im.loading='lazy'; im.decoding='async';
    const candidates=[];
    if(IMG_MAP[prod.slug]) candidates.push(IMG_MAP[prod.slug]);
    candidates.push(`assets/${prod.slug}.png`,`assets/${prod.slug}.jpg`,`assets/${prod.slug}.jpeg`);
    const fallback=()=>{ thumb.innerHTML=''; thumb.style.display='grid'; thumb.style.placeItems='center'; thumb.style.fontSize='42px'; thumb.style.fontWeight='800'; thumb.style.color='var(--green)'; thumb.textContent=prod.nome.charAt(0).toUpperCase(); };
    let idx=0; im.onerror=()=>{ idx++; if(idx<candidates.length){ im.src=candidates[idx]; }else{ fallback(); } };
    im.src=candidates[idx]; thumb.appendChild(im);

    const body=document.createElement('div'); body.className='body';
    const badges=document.createElement('div');
    if(prod.npk){ const tag=document.createElement('span'); tag.className='tag'; tag.textContent='NPK '+prod.npk; badges.appendChild(tag); }
    const h3=document.createElement('h3'); h3.textContent=prod.nome;
    const small=document.createElement('div'); small.className='muted'; small.textContent='Op√ß√µes: '+variantLabels(prod).join(' ¬∑ ');
    const sel=document.createElement('select'); sel.className='select'; sel.ariaLabel='Selecionar embalagem';
    prod.variantes.forEach(v=>{ const opt=document.createElement('option');
      if(v.tipo==='concentrado') opt.textContent='Concentrado '+v.volume;
      if(v.tipo==='pronto-uso') opt.textContent='Pronto-uso '+v.volume;
      if(v.tipo==='solido') opt.textContent='S√≥lido '+(v.peso||'');
      sel.appendChild(opt); });
    const desc=document.createElement('p'); desc.className='muted'; desc.style.marginTop='8px';
    const base=DESCRICOES_FERTILIZANTES[prod.slug]||DEFAULT_DESC; const prefixoNPK=prod.npk?('NPK '+prod.npk+' ‚Äî '):''; desc.textContent=prefixoNPK+base;

    body.appendChild(badges); body.appendChild(h3); body.appendChild(small); body.appendChild(sel); body.appendChild(desc);
    card.appendChild(thumb); card.appendChild(body);
    revealObserver.observe(card);
    return card;
  }
  function computeFertList(){
    return FERTILIZANTES.filter(matchesFilters).sort((a,b)=>a.nome.localeCompare(b.nome,'pt'));
  }
  function addFertBatch(){
    let added=0;
    while(added<FERT_BATCH && fertIndex<currentFertList.length){
      gridFert.appendChild(createFertCard(currentFertList[fertIndex++]));
      added++;
    }
    statusFert.textContent = currentFertList.length ? `${fertIndex} de ${currentFertList.length} itens` : 'Nenhum item com esses filtros.';
    if(fertIndex>=currentFertList.length){ fertInfinite.unobserve(fertSentinel); }
  }
  function resetFert(){
    gridFert.innerHTML=''; fertIndex=0;
    currentFertList = computeFertList();
    statusFert.textContent = currentFertList.length ? `0 de ${currentFertList.length} itens` : 'Nenhum item com esses filtros.';
    addFertBatch();
    fertInfinite.observe(fertSentinel);
  }
  const fertInfinite = new IntersectionObserver((entries)=>{
    entries.forEach(e=>{ if(e.isIntersecting) addFertBatch(); });
  }, { rootMargin:'200px 0px' });

  resetFert(); // inicia fertilizantes (primeiros 3)

  /* EmailJS ‚Äî Curr√≠culo */
  const EJS_PUBLIC_KEY='DUetTJut1z5Y71xTb';
  const EJS_SERVICE_ID='service_3o6yie2';
  const EJS_TEMPLATE_ID='template_x199xqs'; // curriculo-humus
  emailjs.init({ publicKey:EJS_PUBLIC_KEY });

  async function enviarCV(e){
    e.preventDefault();
    const form=e.target;
    const status=document.getElementById('cv_status');
    const btn=document.getElementById('cv_submit');
    const file=document.getElementById('cv_file').files[0];

    if(!file){ status.textContent='Anexe seu curr√≠culo em PDF.'; return; }
    if(file.type!=='application/pdf'){ status.textContent='Formato inv√°lido. Envie um PDF.'; return; }
    if(file.size>5*1024*1024){ status.textContent='Arquivo muito grande (m√°x. 5MB).'; return; }

    btn.disabled=true; btn.textContent='Enviando...'; status.textContent='';
    try{
      await emailjs.sendForm(EJS_SERVICE_ID, EJS_TEMPLATE_ID, form);
      status.textContent='Curr√≠culo enviado com sucesso! Obrigado.';
      form.reset();
    }catch(err){
      console.error(err);
      status.textContent='Erro do EmailJS: verifique Service/Template/Public Key e o template.';
    }finally{
      btn.disabled=false; btn.textContent='Enviar curr√≠culo';
    }
  }

  /* Progressive: lazy + webp test (opcional, n√£o obrigat√≥rio p/ reveal) */
  document.addEventListener('DOMContentLoaded', () => {
    document.querySelectorAll('img').forEach(i => { i.loading='lazy'; i.decoding='async'; });
    document.querySelectorAll('video').forEach(v => { v.preload='metadata'; });
  });
</script>
</body>
</html>
